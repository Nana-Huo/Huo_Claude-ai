
改进数据预处理方法分析报告
============================================================

一、数据信息
- 原始数据形状: (201, 232)
- 选择的特征数量: 11
- 样本量: 200
- 患病率: 45.00%

二、预处理方法
1. 缺失值处理:
   - 缺失值比例 > 50%: 使用众数填充
   - 缺失值比例 <= 50%: 使用中位数填充

2. 特征类型判断:
   - 唯一值数量 <= 10: 使用标签编码
   - 唯一值数量 > 10: 保持为数值变量

3. 数据标准化:
   - 使用StandardScaler对所有特征进行标准化

三、模型性能
测试集:
- 准确率: 0.5500
- AUC: 0.5527
- OOB得分: 0.5357

交叉验证:
- 准确率: 0.5100 +/- 0.0436
- AUC: 0.5316 +/- 0.0718

四、分类报告
              precision    recall  f1-score   support

         未患病       0.59      0.61      0.60        33
          患病       0.50      0.48      0.49        27

    accuracy                           0.55        60
   macro avg       0.54      0.54      0.54        60
weighted avg       0.55      0.55      0.55        60

五、特征重要性排序
11. BMI: 0.8127
10. 36、近一个月，晚上上床时间通常点钟？: 0.1873
1. 7、年龄: 0.0000
3. 8、你有几个孩子？: 0.0000
2. 4、你的性别: 0.0000
4. 20、是否经常吃火锅？: 0.0000
5. 50、腌制肉: 0.0000
7. 31、做噩梦。: 0.0000
6. 21、火锅锅底常选择？: 0.0000
9. 30、我的手常常是干燥温暖的。: 0.0000
8. 10、您所生活的县区: 0.0000

六、风险分层结果
低风险: 67人 (33.5%), 实际患病率: 13.4%
中风险: 92人 (46.0%), 实际患病率: 52.2%
高风险: 41人 (20.5%), 实际患病率: 80.5%

七、改进效果对比
改进前:
- AUC: 0.5213
- 特征重要性: 只有BMI和吸烟非零，其他都是0

改进后:
- AUC: 0.5527
- 特征重要性: 仍然只有少数特征有非零值

八、结论
1. 使用了更合理的预处理方法
2. 根据缺失值比例选择填充策略
3. 根据唯一值数量判断特征类型
4. 模型性能: AUC=0.5527
5. 模型性能有所提升
6. 特征重要性仍然集中在少数特征

九、论文应用建议
1. 在论文中详细描述数据预处理方法
2. 对比不同预处理方法的效果
3. 分析哪些特征对胆结石预测最重要
4. 基于风险分层结果，提出针对性的预防建议

十、输出文件
1. 改进预处理_特征重要性.csv - 特征的重要性排序
2. 改进预处理_预测结果.csv - 预测结果和风险分层
